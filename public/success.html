<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <title>เข้าสู่ระบบสำเร็จ | PNL Company</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/style.css" />
</head>
<body class="success-page">
  <div class="success-card">
    <div class="success-head">
      <div class="success-check">✓</div>
      <h1 class="success-title">เข้าสู่ระบบสำเร็จ</h1>
      <p class="success-sub">คุณสามารถปิดหน้าต่างนี้และกลับไปที่ LINE ได้เลย</p>
    </div>

    <dl class="kv" id="details" style="display:none">
      <div class="row">
        <dt>ชื่อ :</dt><dd id="name">—</dd>
      </div>
      <div class="row">
        <dt>รหัสพนักงาน :</dt><dd id="staffId">—</dd>
      </div>
      <div class="row">
        <dt>#Role (ชั่วคราว) :</dt>
        <dd><span id="role" class="role-pill">—</span></dd>
      </div>
    </dl>

    <p class="success-copy">©PNL Co., Ltd.</p>
  </div>

  <script>
    (function(){
      const q = new URLSearchParams(location.search);
      const name    = q.get('name')    || '';
      const staffId = q.get('staffId') || '';
      const role    = q.get('role')    || '';

      if (name || staffId || role) {
        document.getElementById('name').textContent = name || '—';
        document.getElementById('staffId').textContent = staffId || '—';
        document.getElementById('role').textContent = role || '—';
        document.getElementById('details').style.display = 'block';
      }

      // Try to close LIFF; harmless outside LIFF
      try {
        if (window.liff && typeof liff.closeWindow === 'function') {
          setTimeout(() => liff.closeWindow(), 1500);
        }
      } catch {}
    })();
  </script>
</body>
</html>